<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	locale="#{localeBean.usedLocale}"
	xmlns:f="http://java.sun.com/jsf/core">

 
	<h:form id="form" enctype="multipart/form-data">
		<p:growl id="msgs" showDetail="true"/>
		<h2 style="color: #007d4c;">VENTAS > DOCUMENTO DE VENTA</h2>
		<p:tabView id="tabView">
			<p:tab title="Lista de Documentos de Venta" id="tabListDoc">
				<p:selectOneButton value="#{documentoVentaBean.estado}"
					unselectable="false">
					<f:selectItem itemLabel="Activos" itemValue="#{true}" />
					<f:selectItem itemLabel="Anulados" itemValue="#{false}" />
					<p:ajax update=":form:tabView:idTableListDoc" listener="#{documentoVentaBean.iniciarLazy()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();"/>
				</p:selectOneButton>
				
				<p:selectOneButton value="#{documentoVentaBean.estadoSunat}" unselectable="false" style="margin-left:40px">
					<f:selectItem itemLabel="Todos" itemValue="#{null}" />
					<f:selectItem itemLabel="Pendientes" itemValue="#{false}" />
					<f:selectItem itemLabel="Enviados" itemValue="#{true}" />
					<p:ajax update=":form:tabView:idTableListDoc" listener="#{documentoVentaBean.iniciarLazy()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();" />
				</p:selectOneButton>

				<p:dataTable var="documento" id="idTableListDoc" value="#{documentoVentaBean.lstDocumentoVentaLazy}" rowIndexVar="row" paginator="true" rows="15" size="small" 
					emptyMessage="No se encontraron documentos de venta." style="width: 120%;" paginatorPosition="bottom" rowKey="#{documento.id}" selection="#{documentoVentaBean.documentoVentaSelected}" selectionMode="single">

					<f:facet name="header">
						<div class="p-d-flex p-ai-center p-jc-between">
							<span>Lista de Documentos de ventas</span>
						</div>
					</f:facet>
					
					<p:ajax event="rowSelect" listener="#{documentoVentaBean.listarDetalleDocumentoVenta()}" update=":formDocumentoVentaDialog :dialogDocumentoVenta" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock(); PF('docVentDialog').show();" />

					<p:column width="25px">
			                      #{row +1}
			        </p:column>
			        
			        <p:column headerText="Tipo Comprobante" filterMatchMode="contains" style="margin:5px; width:100px">
						<f:facet name="header">
							Tipo Documento
				        	<p:selectOneMenu value="#{documentoVentaBean.tipoDocumentoFilter}" converter="#{documentoVentaBean.conversorTipoDocumentoSunat}" style="margin:5px;width:100%" >
								<f:selectItem itemLabel="TODOS" value="#{null}"/>
								<f:selectItems value="#{documentoVentaBean.lstTipoDocumentoEnvioSunat}" var="tipoDocumento" itemLabel="#{tipoDocumento.descripcion}" itemValue="#{tipoDocumento}"/>
								<p:ajax update=":form:tabView:idTableListDoc" listener="#{documentoVentaBean.iniciarLazy()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();" />
							</p:selectOneMenu>
						</f:facet>
						<h:outputText value="#{documento.tipoDocumento.descripcion}" />
					</p:column>

					<p:column headerText="Cliente(Razón social)" sortBy="#{documento.razonSocial}" filterBy="#{documento.razonSocial}" style="width: 200px" filterMatchMode="contains">
						<h:outputText value="#{documento.razonSocial}" />
					</p:column>
					
					<p:column headerText="RUC/DNI" sortBy="#{documento.ruc}" style="text-align:center; width: 150px;" filterBy="#{documento.ruc}" filterMatchMode="contains">
						<h:outputText value="#{documento.ruc}" />
					</p:column>

					

					<p:column headerText="Número" sortBy="#{documento.numero}" filterBy="#{documento.numero}" style="width: 150px;" filterMatchMode="contains">
						<h:outputText value="#{documento.serie}-#{documento.numero}" />
					</p:column>

					
					<p:column headerText="Dirección" filterMatchMode="contains" width="300px">
						<h:outputText value="#{documento.direccion}" />
					</p:column>

					<p:column headerText="Fecha Emision" sortBy="#{documento.fechaEmision}" style="text-align:center;width: 100px;" filterMatchMode="contains">
						<h:outputText value="#{documento.fechaEmision}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>

					<p:column headerText="Tipo Moneda" filterMatchMode="contains" style="text-align:center;width:50px;">
						<h:outputText value="#{documento.tipoMoneda eq 'S'?'Soles':'Dólares'}" />
					</p:column>

					<p:column headerText="Tipo Pago" filterMatchMode="contains" style="text-align:center;width: 70px;">
						<h:outputText value="#{documento.tipoPago}" />
					</p:column>

					<p:column headerText="SubTotal" filterMatchMode="contains" style="text-align:center;" rendered="false">
						<h:outputText value="#{documento.subTotal}" > 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>

					<p:column headerText="IGV" filterMatchMode="contains" style="text-align:center;" rendered="false">
						<h:outputText value="#{documento.igv}" > 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>

					<p:column headerText="Total" filterMatchMode="contains" style="text-align:center;width: 100px;">
						<h:outputText value="#{documento.total}" > 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					<p:column headerText="Enviado SUNAT" sortBy="#{documento.envioSunat}" filterMatchMode="contains" style="text-align:center;width: 70px;">
						<h:outputText value="#{documento.envioSunat?'SI': 'NO'}" style="font-weight: bolder;color:#{documento.envioSunat?'red': 'black'}" />
					</p:column>
					
					<p:column headerText="Doc. Ref." sortBy="#{documento.documentoVentaRef.numero}" filterMatchMode="contains" style="width: 150px;">
						<h:outputText value="#{documento.documentoVentaRef.serie}-#{documento.documentoVentaRef.numero}" />
					</p:column>

					<p:column headerText="Fecha Registro" filterMatchMode="contains" style="text-align:center;width: 100px;">
						<h:outputText value="#{documento.fechaRegistro}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>

					<p:column headerText="Usuario Registro"	sortBy="#{documento.usuarioRegistro.username}" filterMatchMode="contains" style="text-align:center;width: 100px;">
						<h:outputText value="#{documento.usuarioRegistro.username}" />
					</p:column>
				
				</p:dataTable>
				
				<p:contextMenu id="menuTableDoc" for="idTableListDoc" >
		            <p:menuitem value="Anular" icon="pi pi-trash" oncomplete="PF('anulaDocumento').show()"  />
		            <p:menuitem value="Ver Voucher" icon="pi pi-image" action="#{documentoVentaBean.verVoucher()}"  update=":dialogVoucherDocumento" />	
		            <p:menuitem value="Generar Nota Crédito/Débito" action="#{documentoVentaBean.listarSerieNota()}" icon="pi pi-wallet" update="dialogNotaCreditoDebito" />
		        </p:contextMenu>
		        
		        
		        <p:panel header="Enviar a SUNAT" style="margin: 20px; width: 40%">
			        <h:panelGrid columns="5">
			        	<h:outputLabel value="Tipo Documento:" />
			        	<p:selectOneMenu value="#{documentoVentaBean.tipoDocumentoEnvioSunat}" converter="#{documentoVentaBean.conversorTipoDocumentoSunat}" style="margin:5px; width:100px" >
							<f:selectItems value="#{documentoVentaBean.lstTipoDocumentoEnvioSunat}" var="tipoDocumento" itemLabel="#{tipoDocumento.descripcion}" itemValue="#{tipoDocumento}"/>
						</p:selectOneMenu>
						
						<h:outputLabel value="Fecha:" />
						<p:datePicker value="#{documentoVentaBean.fechaEnvioSunat}" />
						<p:commandButton value="Enviar" action="#{documentoVentaBean.enviarDocumentoSunatMasivo}" update=":form:tabView:idTableListDoc" 
							onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();"/>
			        
			        </h:panelGrid>
			    </p:panel>
		
				
			</p:tab>

			<p:tab title="Nuevo Documento de Venta">
				<h:panelGrid columns="9" id="gridNuevoDoc">

					<h:outputLabel value="Fecha: " />
					<p:datePicker id="fecha" value="#{documentoVentaBean.fechaEmision}" style="margin:5px;">
						<p:ajax update="txt_fecha_Formated, fecha" listener="#{documentoVentaBean.validacionFecha}" />
					</p:datePicker>

					<h:outputText style="font-size: 22px; font-weight: bold; color: #547E11;" id="txt_fecha_Formated" value="#{documentoVentaBean.fechaEmision}">
						<f:convertDateTime pattern="EEEEE, dd MMMM yyyy" />
					</h:outputText>

					<h:outputLabel value="Documento:" />
					<p:selectOneMenu id="idTipoComprobante" value="#{documentoVentaBean.tipoDocumentoSelected}" converter="#{documentoVentaBean.conversorTipoDocumento}" style="margin:5px; width:100px" >
						<f:selectItems value="#{documentoVentaBean.lstTipoDocumento}" var="tipoDocumento" itemLabel="#{tipoDocumento.descripcion}" itemValue="#{tipoDocumento}"/>
						<p:ajax listener="#{documentoVentaBean.listarSerie}" update=":form:tabView:optionSerie :form:tabView:num :form:tabView:pnl"/>
					</p:selectOneMenu>
					
					
					<h:outputLabel value="Serie-Número:" />

					<p:selectOneMenu id="optionSerie" value="#{documentoVentaBean.serieDocumentoSelected}" converter="#{documentoVentaBean.conversorSerie}" style="margin:10px">
						<f:selectItems value="#{documentoVentaBean.lstSerieDocumento}" var="serie" itemLabel="#{serie.serie}" itemValue="#{serie}" />
						<p:ajax listener="#{documentoVentaBean.cambiarSerie}" update=":form:tabView:num" /> 
					</p:selectOneMenu>
					<p:outputLabel value="-" style="font-weight: bolder"/>
					<p:inputText value="#{documentoVentaBean.numero}"  style="margin:10px" id="num" disabled="true"/>

				</h:panelGrid>

				<h:panelGrid columns="3">
					<h:panelGrid id="gridImpCuota">
						<p:commandButton id="movieBtn" style="font-size: 14px;" value="Importar Cuota" icon="pi pi-search" update=":form:tabView:tableCuota" />
						<p:overlayPanel for="movieBtn" dynamic="true" style="width:1200px" widgetVar="moviePickerCuota">
							<p:dataTable var="cuota" value="#{documentoVentaBean.lstCuotaLazy}" rows="6" paginator="true" selectionMode="single" rowIndexVar="row" 
								paginatorPosition="bottom" selection="#{documentoVentaBean.cuotaSelected}" rowKey="#{cuota.id}" id="tableCuota"
								emptyMessage="No se encontraron resultados" size="small">
								<p:ajax event="rowSelect" listener="#{documentoVentaBean.importarCuota}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('moviePickerCuota').hide();PF('blockUIWidgetGeneral').unblock();" 
								update=":form:tabView:gridImpCuota  :form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos :form:tabView:pnl :form:tabView:idTipoComprobante :form:tabView:pnlCond" />

								<p:column headerText="Nro Cuota" sortBy="#{cuota.nroCuota}" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.nroCuota}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Mz" filterBy="#{cuota.contrato.lote.manzana.name}" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.contrato.lote.manzana.name}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Lt" filterBy="#{cuota.contrato.lote.numberLote}" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.contrato.lote.numberLote}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Proyecto" style="text-align:center; width:70px">
									<f:facet name="header">
										Proyecto
							        	<p:selectOneMenu value="#{documentoVentaBean.projectFilter}" converter="#{documentoVentaBean.conversorProject}" style="margin:5px; width:130px" >
											<f:selectItem itemLabel="[-TODOS-]" value="#{null}"/>
											<f:selectItems value="#{documentoVentaBean.lstProject}" var="project" itemLabel="#{project.name}" itemValue="#{project}"/>
											<p:ajax update=":form:tabView:tableCuota" />
										</p:selectOneMenu>
									</f:facet>
									
									<h:outputText value="#{cuota.contrato.lote.project.name}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="DNI" sortBy="#{cuota.contrato.personVenta.dni}" filterBy="#{cuota.contrato.personVenta.dni}" style="text-align:center; width:120px">
									<h:outputText value="#{cuota.contrato.personVenta.dni}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Persona Venta" sortBy="#{cuota.contrato.personVenta.surnames}" filterBy="#{cuota.contrato.personVenta.surnames}, #{cuota.contrato.personVenta.names}, #{cuota.contrato.personVenta.dni}" style="text-align:center; width:120px">
									<h:outputText value="#{cuota.contrato.personVenta.surnames} #{cuota.contrato.personVenta.names}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Fecha Pago" style="text-align:center; width:60px" sortBy="#{cuota.fechaPago}">
									<h:outputText value="#{cuota.fechaPago}" style="font-size: 14px;">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>

								<p:column headerText="Cuota SI" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.cuotaSI}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Interés" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.interes}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Cuota Total" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.cuotaTotal}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Adelanto" style="text-align:center; width:60px" sortBy="#{cuota.adelanto}">
									<h:outputText value="#{cuota.adelanto}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Saldo" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.cuotaTotal - cuota.adelanto}" style="font-size: 14px;" />
								</p:column>

							</p:dataTable>
						</p:overlayPanel>
					</h:panelGrid>

					<h:panelGrid id="gridImpVoucher">
						<p:commandButton id="movieBtnVou" style="font-size: 14px;" value="Importar Separación" icon="pi pi-search" update=":form:tabView:tableVoucher" />
						<p:overlayPanel for="movieBtnVou" dynamic="true" style="width:700px" widgetVar="moviePickerVoucher">
							<p:dataTable var="req" value="#{documentoVentaBean.lstRequerimientoLazy}"  rows="5" paginator="true" selectionMode="single" rowIndexVar="row"
								paginatorPosition="bottom" selection="#{documentoVentaBean.requerimientoSelected}" rowKey="#{req.id}" id="tableVoucher"
								emptyMessage="No se encontraron resultados" size="small">
								
								<p:ajax event="rowSelect" listener="#{documentoVentaBean.importarRequerimiento()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('moviePickerVoucher').hide();PF('blockUIWidgetGeneral').unblock();" 
								update=":form:tabView:gridImpCuota  :form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos :form:tabView:pnl :form:tabView:idTipoComprobante :form:tabView:pnlCond"/>

								<p:column headerText="Lote - Mz" style="text-align:center; width:60px">
									<h:outputText value="#{req.lote.numberLote}-#{req.lote.manzana.name}" style="font-size: 14px;" />
								</p:column>
						
								<p:column headerText="Proyecto" style="text-align:center; width:60px">
									<h:outputText value="#{req.lote.project.name}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Monto" style="text-align:center; width:60px">
									<h:outputText value="#{req.monto}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Cliente" style="text-align:center; width:60px">
									<h:outputText value="#{req.person.surnames} #{req.person.names}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Supervisor" style="text-align:center; width:60px">
									<h:outputText value="#{req.personSupervisor.surnames} #{req.personSupervisor.names}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Asesor" style="text-align:center; width:60px">
									<h:outputText value="#{req.personAsesor.surnames} #{req.personAsesor.surnames}" style="font-size: 14px;" />
								</p:column>

								<p:column headerText="Fecha" style="text-align:center; width:60px">
									<h:outputText value="#{req.fecha}" style="font-size: 14px;">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>

							</p:dataTable>
						</p:overlayPanel>
					</h:panelGrid>
					
					<h:panelGrid id="gridImpPrepago">
						<p:commandButton id="movieBtnPrepago" style="font-size: 14px;" value="Importar Prepago" icon="pi pi-search" update=":form:tabView:tablePrepago" />
						<p:overlayPanel for="movieBtnPrepago" dynamic="true" style="width:600px" widgetVar="moviePickerPrepago">
							<p:dataTable var="cuota" value="#{documentoVentaBean.lstPrepagoLazy}" rows="5" paginator="true" selectionMode="single" rowIndexVar="row"
								paginatorPosition="bottom" selection="#{documentoVentaBean.prepagoSelected}" rowKey="#{cuota.id}" id="tablePrepago"
								emptyMessage="No se encontraron resultados" size="small">
								
								<p:ajax event="rowSelect" listener="#{documentoVentaBean.importarPrepago()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('moviePickerPrepago').hide();PF('blockUIWidgetGeneral').unblock();" 
								update=":form:tabView:gridImpCuota  :form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos :form:tabView:pnl :form:tabView:idTipoComprobante"/>
								
								<p:column headerText="Cliente"  style="text-align:center; width:120px">
									<h:outputText value="#{cuota.contrato.personVenta.surnames} #{cuota.contrato.personVenta.names}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Monto" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.cuotaTotal}" style="font-size: 14px;" > 
										<f:convertNumber type="currency" currencySymbol=""/>
									</h:outputText>
								</p:column>
								
								<p:column headerText="Proyecto" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.contrato.lote.project.name}" style="font-size: 14px;" />
								</p:column>
								
								<p:column headerText="Mz-Lote" style="text-align:center; width:60px">
									<h:outputText value="#{cuota.contrato.lote.manzana.name}-#{cuota.contrato.lote.numberLote}" style="font-size: 14px;" />
								</p:column>
								
								
							</p:dataTable>
						</p:overlayPanel>
					</h:panelGrid>
				</h:panelGrid>
				
				<h:panelGrid style="width:60%;float:left" columns="1" > 
					<p:panel id="pnl" header="Datos del Cliente" toggleable="true" toggleSpeed="500" widgetVar="panelDatos" style="width:100%">
						<h:panelGrid styleClass="companyHeaderGrid" >
							
							<p:row>
								<p:commandButton actionListener="#{documentoVentaBean.iniciarDatosCliente}" title="AGREGAR CLIENTE" update=":formUserDialog" oncomplete="PF('clienteDialog').show();" icon="pi pi-user-plus" styleClass="rounded-button ui-button-success" style="margin:10px;"/>
								<p:column>
									<h:outputText value="RUC: " rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'F'}" />
									<h:outputText value="DNI: " rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'B'}" />
								</p:column>
								<p:column>
									<p:autoComplete  scrollHeight="500" styleClass="ui-autocompV" value="#{documentoVentaBean.clienteSelected}" converter="#{documentoVentaBean.conversorCliente}" completeMethod="#{documentoVentaBean.completeCliente}"  
						                  var="cli" itemLabel="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'F'?cli.ruc:cli.dni}" itemValue="#{cli}" forceSelection="true" style="margin:5px;" >
						            	<p:column width="400px">
						                	<h:outputLabel value="#{cli.ruc}" rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'F'}" />
						                	<h:outputLabel value="#{cli.dni}" rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'B'}"/> 
						                </p:column>
						                <p:column width="400px">
						                	<h:outputLabel value="#{cli.razonSocial}" /> 
						                </p:column> 
						                <p:ajax event="change" listener="#{documentoVentaBean.onChangeCliente}" update=":form:tabView:pnl" />						                						              
						            </p:autoComplete>
								</p:column>
								
								<p:column>
									<h:outputText style="margin-left:20px" value="Nombre: " rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'B'}" />
									<h:outputText style="margin-left:20px" value="Razón Social: " rendered="#{documentoVentaBean.tipoDocumentoSelected.abreviatura eq 'F'}" />
								</p:column>
								<p:column>
									<p:inputText id="txt_nombre" style="width:420px;" label="" value="#{documentoVentaBean.razonSocialText}" maxlength="100" /> 
								</p:column>

							</p:row>
							<p:row>
								<p:column>
									<h:outputText value="Dirección: " />
								</p:column>
								<p:column colspan="3">
									<p:inputText id="txt_direccion" style="width:800px;" label="" value="#{documentoVentaBean.direccionText}" maxlength="200" />
								</p:column>

							</p:row>
							<p:row>
								<p:column>
									<h:outputText value="E-mail 1: " />
								</p:column>
								<p:column colspan="3">
									<p:inputText style="width:800px;" label="" value="#{documentoVentaBean.email1Text}" />
								</p:column>

							</p:row>
							<p:row>
								<p:column>
									<h:outputText value="E-mail 2: " />
								</p:column>
								<p:column colspan="3">
									<p:inputText style="width:800px;" label="" value="#{documentoVentaBean.email2Text}" />
								</p:column>
							</p:row>
							<p:row>
								<p:column>
									<h:outputText value="E-mail 3: " />
								</p:column>
								<p:column colspan="3">
									<p:inputText style="width:800px;" label="" value="#{documentoVentaBean.email2Text}" />
								</p:column>
							</p:row>
							
							
						</h:panelGrid>
						<p:commandButton value="Guardar" actionListener="#{documentoVentaBean.validarFormularioDocumentoVenta()}" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();" styleClass="mt-3 ui-button-outlined block"  style="margin-left:10px" icon="pi pi-save"  />
						<p:commandButton value="Cancelar" oncomplete="PF('cancelarDocumento').show()"   style="margin-left:10px" icon="pi pi-times"  />
								
					</p:panel>
						
					
				
				</h:panelGrid>

				<h:panelGrid id="gridMontos" style="width:25%;float:right;" columns="1" >	
					<p:panel  header="Montos" toggleable="true" toggleSpeed="500" widgetVar="panelMontos" >
						<h:panelGrid id="pnlMontos" columns="3" styleClass="companyHeaderGrid">
						
							<h:outputText value="Anticipos:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.anticipos}" />
							
							<h:outputText value="Op. Gravada:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.opGravada}" />

							<h:outputText value="Op. Exonerada:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.opExonerada}" />

							<h:outputText value="Op. Inafecta:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.opInafecta}"  />

							<h:outputText value="Op. Gratuita:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.opGratuita}"  />

							<h:outputText value="Descuentos:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.descuentos}"  />

							<h:outputText value="ISC:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.ISC}" />

							<h:outputText value="IGV:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.IGV}" />

							<h:outputText value="Otros Cargos:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.otrosCargos}" />

							<h:outputText value="Otros Tributos:" />
							<h:outputText value="S/"/>
            				<h:outputText value="#{documentoVentaBean.otrosTributos}" />

							
							<h:outputText value="Importe Total:" style="margin-right:20px;font-weight: bolder" />
							<h:outputText value="S/" style="font-weight: bolder"/>
							<h:outputText value="#{documentoVentaBean.importeTotal}" style="font-weight: bolder" />
							
						</h:panelGrid>
					</p:panel>
	
				</h:panelGrid>
				
				<h:panelGrid  style="width:100%;float:left">
					
					<p:dataTable var="detalle" id="idTableDetalleDocVenta" value="#{documentoVentaBean.lstDetalleDocumentoVenta}" widgetVar="detalleTable" rowIndexVar="row" paginator="true" rows="15" size="small"
					emptyMessage="No se encontraron detalles de documento de venta." editable="true"  editMode="cell" paginatorPosition="bottom" rowKey="#{detalle.id}"  selectionMode="single" selection="#{documentoVentaBean.detalleDocumentoVentaSelected}">
			
						
						<f:facet name="header">
							<div class="p-d-flex p-ai-center p-jc-between">
								<span>Lista de Detalles de Venta</span>
							</div>
						</f:facet>   
						
						<p:column style="width:42px;text-align: left">
							<f:facet name="header"> 
								
								<p:commandButton icon="pi pi-plus" actionListener="#{documentoVentaBean.agregarDetalle}" update=":form:tabView:idTableDetalleDocVenta" styleClass="rounded-button ui-button-success" />
								
							</f:facet>
						</p:column>
												
				        <p:column headerText="Nro"  width="25px" filterMatchMode="contains">
							#{row +1}
						</p:column>
						
						<p:column headerText="Producto" filterMatchMode="contains" >
							
							
							<p:cellEditor>
			                    <f:facet name="output">
			                        <h:outputText value="#{detalle.producto eq null ? '[-Seleccionar-]': detalle.producto.descripcion}" />
			                    </f:facet>
			                    <f:facet name="input">
			                        <p:selectOneMenu value="#{detalle.producto}" converter="#{documentoVentaBean.conversorProducto}" style="margin:5px; width:130px" >
										<f:selectItems value="#{documentoVentaBean.lstProducto}" var="prod" itemLabel="#{prod.descripcion}" itemValue="#{prod}"/>
									</p:selectOneMenu>
			                    </f:facet>	
			                </p:cellEditor>
							
						</p:column>
						
						<p:column headerText="Descripción" filterMatchMode="contains" style="width:500px">
							<p:cellEditor>
			                    <f:facet name="output">
			                        <h:outputText value="#{detalle.descripcion}"/>
			                    </f:facet>
			                    <f:facet name="input">
			                        <p:inputText value="#{detalle.descripcion}" style="width:90%" />
			                
			                    </f:facet>	
			                </p:cellEditor>
						</p:column>
						
						<p:column headerText="Amortización" filterMatchMode="contains">
							
							<p:cellEditor>
			                    <f:facet name="output">
			                    	S/
			                        <h:outputText value="#{detalle.amortizacion}">
			                            <f:convertNumber type="currency" currencySymbol=""/>
			                        </h:outputText>
			                    </f:facet>
			                    <f:facet name="input">
			                        <p:inputNumber value="#{detalle.amortizacion}" style="width:90%" label="Price" symbol="" > 
			                        	<p:ajax listener="#{documentoVentaBean.updateAmortizacion(detalle)}" update=":form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos" />
			                    	</p:inputNumber> 
			                    </f:facet>	
			                </p:cellEditor>
						</p:column>
						
						<p:column headerText="Interés" filterMatchMode="contains" style="text-align:center"  >
							<p:cellEditor>
			                    <f:facet name="output">
			                    	S/
			                        <h:outputText value="#{detalle.interes}">
			                            <f:convertNumber type="currency" currencySymbol=""/>
			                        </h:outputText>
			                    </f:facet>
			                    <f:facet name="input">
			                        <p:inputNumber value="#{detalle.interes}" style="width:90%" label="Price" symbol="" minValue="0"> 
			                        	<p:ajax listener="#{documentoVentaBean.updateInteres(detalle)}" update=":form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos" />
			                    	</p:inputNumber> 
			                    </f:facet>	
			                </p:cellEditor>
						</p:column>
						
						<p:column headerText="Adelanto" filterMatchMode="contains" style="text-align:center"  >
							<p:cellEditor>
			                    <f:facet name="output">
			                    	S/
			                        <h:outputText value="#{detalle.adelanto}">
			                            <f:convertNumber type="currency" currencySymbol=""/>
			                        </h:outputText>
			                    </f:facet>
			                    <f:facet name="input">
			                        <p:inputNumber value="#{detalle.adelanto}" style="width:90%" label="Price" symbol="" minValue="0" rendered="false"> 
			                        	<p:ajax listener="#{documentoVentaBean.updateAdelanto(detalle)}" update=":form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos" />
			                    	</p:inputNumber> 
			                    </f:facet>	
			                </p:cellEditor>
						</p:column>
						
						<p:column headerText="Importe Venta" filterMatchMode="contains">
							<h:outputText value="#{detalle.importeVenta}"/>
						</p:column>
						
						<p:column width="10%" filterMatchMode="contains">
							<p:commandButton   icon="pi pi-trash" styleClass="rounded-button ui-button-danger" action="#{documentoVentaBean.eliminarDetalleVenta(row)}" 
							update=":form:tabView:gridImpCuota  :form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos :form:tabView:pnl :form:tabView:idTipoComprobante"/>
						</p:column>
				
					</p:dataTable>
					
					<p:panel id="pnlCond" header="Condiciones de venta" toggleable="true" toggleSpeed="500" widgetVar="panelCondVen" style="width:100%; margin-top:10px;">
						<h:panelGrid styleClass="companyHeaderGrid" columns="6">
							<p:row>
								<p:column>
									<h:outputText value="Tipo Pago: " />
									<h:selectOneMenu value="#{documentoVentaBean.tipoPago}" unselectable="false">
										<f:selectItem itemLabel="Contado" itemValue="Contado" />
									</h:selectOneMenu>
								</p:column>

								<p:column>
									<h:outputText value="Moneda: " style="margin-left:10px" />
									<h:selectOneMenu value="#{documentoVentaBean.moneda}" unselectable="false">
										<f:selectItem itemLabel="Soles" itemValue="S" />
									</h:selectOneMenu>
									
									<h:outputText value="Con IGV: " style="margin-left:10px" />
									<h:selectOneMenu value="#{documentoVentaBean.incluirIgv}" unselectable="false">
										<f:selectItem itemLabel="NO" itemValue="#{false}" />
										<f:selectItem itemLabel="SI" itemValue="#{true}" />
										<p:ajax update=":form:tabView:gridMontos" listener="#{documentoVentaBean.cambioIgv}"/>
									</h:selectOneMenu>

								</p:column>

								
								<p:column colspan="3">
									<span class="ui-float-label" style="margin-top: 25px;">
       									<p:inputText id="txt_observacion" style="width:100%;" label="" value="#{documentoVentaBean.observacion}" maxlength="200" />
						               	<p:outputLabel for="@previous" value="Observación" />
						            </span>
								</p:column>
								
								
								<p:commandButton icon="pi pi-minus" action="#{documentoVentaBean.menorarImagen}" update=":form:tabView:pnlCond" styleClass="rounded-button ui-button-success" style="margin:10px;" />
								<p:commandButton icon="pi pi-plus" action="#{documentoVentaBean.aumentarImagen}" update=":form:tabView:pnlCond" styleClass="rounded-button ui-button-success" />
								
								<h:panelGrid columns="11" width="100%">
									<p:fileUpload value="#{documentoVentaBean.file1}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>
									<h:outputLabel value="Fecha:"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag1}" timeInput="true" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " />
									<p:inputNumber  value="#{documentoVentaBean.montoImag1}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag1}" style="margin:5px; width:220px"   /> 
									<h:outputLabel value="Cuenta Banc:" />
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc1}" converter="#{documentoVentaBean.conversorCuentaBancaria}" >
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" />
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion1}" >
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
														
									<p:fileUpload value="#{documentoVentaBean.file2}" rendered="#{documentoVentaBean.numMuestraImagen ge 2}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 2}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag2}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 2}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 2}" />
									<p:inputNumber  value="#{documentoVentaBean.montoImag2}" rendered="#{documentoVentaBean.numMuestraImagen ge 2}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 2}"/>
									<p:inputText  value="#{documentoVentaBean.nroOperImag2}" rendered="#{documentoVentaBean.numMuestraImagen ge 2}" style="margin:5px; width:220px"  decimalPlaces="0" /> 
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 2}" />
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc2}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 2}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 2}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion2}" rendered="#{documentoVentaBean.numMuestraImagen ge 2}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>			
									
									<p:fileUpload value="#{documentoVentaBean.file3}" rendered="#{documentoVentaBean.numMuestraImagen ge 3}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>							
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 3}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag3}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 3}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>								
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 3}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag3}" rendered="#{documentoVentaBean.numMuestraImagen ge 3}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 3}"/>
									<p:inputText  value="#{documentoVentaBean.nroOperImag3}" rendered="#{documentoVentaBean.numMuestraImagen ge 3}" style="margin:5px; width:220px"  decimalPlaces="0" />
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 3}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc3}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 3}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 3}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion3}" rendered="#{documentoVentaBean.numMuestraImagen ge 3}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
							
									<p:fileUpload value="#{documentoVentaBean.file4}" rendered="#{documentoVentaBean.numMuestraImagen ge 4}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 4}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag4}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 4}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 4}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag4}" rendered="#{documentoVentaBean.numMuestraImagen ge 4}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 4}"/>
									<p:inputText  value="#{documentoVentaBean.nroOperImag4}" rendered="#{documentoVentaBean.numMuestraImagen ge 4}" style="margin:5px; width:220px"  decimalPlaces="0" />		
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 4}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc4}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 4}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 4}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion4}" rendered="#{documentoVentaBean.numMuestraImagen ge 4}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file5}" rendered="#{documentoVentaBean.numMuestraImagen ge 5}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 5}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag5}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 5}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 5}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag5}" rendered="#{documentoVentaBean.numMuestraImagen ge 5}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 5}"/>
									<p:inputText  value="#{documentoVentaBean.nroOperImag5}" rendered="#{documentoVentaBean.numMuestraImagen ge 5}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 5}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc5}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 5}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 5}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion5}" rendered="#{documentoVentaBean.numMuestraImagen ge 5}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file6}" rendered="#{documentoVentaBean.numMuestraImagen ge 6}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 6}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag6}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 6}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 6}" />
									<p:inputNumber  value="#{documentoVentaBean.montoImag6}" rendered="#{documentoVentaBean.numMuestraImagen ge 6}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 6}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag6}" rendered="#{documentoVentaBean.numMuestraImagen ge 6}" style="margin:5px; width:220px"  decimalPlaces="0" />			
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 6}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc6}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 6}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 6}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion6}" rendered="#{documentoVentaBean.numMuestraImagen ge 6}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file7}" rendered="#{documentoVentaBean.numMuestraImagen ge 7}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 7}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag7}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 7}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 7}" />
									<p:inputNumber  value="#{documentoVentaBean.montoImag7}" rendered="#{documentoVentaBean.numMuestraImagen ge 7}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 7}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag7}" rendered="#{documentoVentaBean.numMuestraImagen ge 7}" style="margin:5px; width:220px"  decimalPlaces="0" />	  
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 7}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc7}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 7}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 7}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion7}" rendered="#{documentoVentaBean.numMuestraImagen ge 7}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file8}" rendered="#{documentoVentaBean.numMuestraImagen ge 8}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 8}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag8}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 8}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 8}" />
									<p:inputNumber  value="#{documentoVentaBean.montoImag8}" rendered="#{documentoVentaBean.numMuestraImagen ge 8}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 8}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag8}" rendered="#{documentoVentaBean.numMuestraImagen ge 8}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 8}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc8}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 8}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 8}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion8}" rendered="#{documentoVentaBean.numMuestraImagen ge 8}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file9}" rendered="#{documentoVentaBean.numMuestraImagen ge 9}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 9}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag9}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 9}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: " rendered="#{documentoVentaBean.numMuestraImagen ge 9}" />
									<p:inputNumber  value="#{documentoVentaBean.montoImag9}" rendered="#{documentoVentaBean.numMuestraImagen ge 9}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:"  rendered="#{documentoVentaBean.numMuestraImagen ge 9}"/>
									<p:inputText  value="#{documentoVentaBean.nroOperImag9}" rendered="#{documentoVentaBean.numMuestraImagen ge 9}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 9}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc9}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 9}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 9}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion9}" rendered="#{documentoVentaBean.numMuestraImagen ge 9}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>		
									
									<p:fileUpload value="#{documentoVentaBean.file10}" rendered="#{documentoVentaBean.numMuestraImagen ge 10}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 10}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag10}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 10}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 10}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag10}" rendered="#{documentoVentaBean.numMuestraImagen ge 10}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 10}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag10}" rendered="#{documentoVentaBean.numMuestraImagen ge 10}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 10}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc10}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 10}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 10}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion10}" rendered="#{documentoVentaBean.numMuestraImagen ge 10}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
									
									<p:fileUpload value="#{documentoVentaBean.file11}" rendered="#{documentoVentaBean.numMuestraImagen ge 11}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 11}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag11}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 11}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 11}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag11}" rendered="#{documentoVentaBean.numMuestraImagen ge 11}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 11}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag11}" rendered="#{documentoVentaBean.numMuestraImagen ge 11}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 11}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc11}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 11}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 11}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion11}" rendered="#{documentoVentaBean.numMuestraImagen ge 11}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
									
									<p:fileUpload value="#{documentoVentaBean.file12}" rendered="#{documentoVentaBean.numMuestraImagen ge 12}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 12}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag12}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 12}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 12}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag12}" rendered="#{documentoVentaBean.numMuestraImagen ge 12}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 12}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag12}" rendered="#{documentoVentaBean.numMuestraImagen ge 12}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 12}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc12}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 12}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 12}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion12}" rendered="#{documentoVentaBean.numMuestraImagen ge 12}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
									
									<p:fileUpload value="#{documentoVentaBean.file13}" rendered="#{documentoVentaBean.numMuestraImagen ge 13}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 13}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag13}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 13}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 13}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag13}" rendered="#{documentoVentaBean.numMuestraImagen ge 13}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 13}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag13}" rendered="#{documentoVentaBean.numMuestraImagen ge 13}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 13}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc13}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 13}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 13}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion13}" rendered="#{documentoVentaBean.numMuestraImagen ge 13}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
									
									<p:fileUpload value="#{documentoVentaBean.file14}" rendered="#{documentoVentaBean.numMuestraImagen ge 14}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 14}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag14}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 14}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 14}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag14}" rendered="#{documentoVentaBean.numMuestraImagen ge 14}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 14}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag14}" rendered="#{documentoVentaBean.numMuestraImagen ge 14}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 14}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc14}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 14}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 14}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion14}" rendered="#{documentoVentaBean.numMuestraImagen ge 14}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
									
									<p:fileUpload value="#{documentoVentaBean.file15}" rendered="#{documentoVentaBean.numMuestraImagen ge 15}" mode="simple" skinSimple="true" accept=".jpg,.jpeg,.png"/>	
									<h:outputLabel value="Fecha:" rendered="#{documentoVentaBean.numMuestraImagen ge 15}"/>
									<p:datePicker value="#{documentoVentaBean.fechaImag15}" timeInput="true" rendered="#{documentoVentaBean.numMuestraImagen ge 15}" style="margin:5px; width:220px" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
									<h:outputLabel  value="Monto: "  rendered="#{documentoVentaBean.numMuestraImagen ge 15}"/>
									<p:inputNumber  value="#{documentoVentaBean.montoImag15}" rendered="#{documentoVentaBean.numMuestraImagen ge 15}" style="margin:5px; width:220px" />
									<h:outputLabel value="Nro. de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 15}" />
									<p:inputText  value="#{documentoVentaBean.nroOperImag15}" rendered="#{documentoVentaBean.numMuestraImagen ge 15}" style="margin:5px; width:220px"  decimalPlaces="0" />	
									<h:outputLabel value="Cuenta Banc:" rendered="#{documentoVentaBean.numMuestraImagen ge 15}"/>
									<p:selectOneMenu value="#{documentoVentaBean.ctaBanc15}" converter="#{documentoVentaBean.conversorCuentaBancaria}" rendered="#{documentoVentaBean.numMuestraImagen ge 15}">
					                    <f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
					                </p:selectOneMenu>
									<h:outputLabel value="Tipo de Operación:" rendered="#{documentoVentaBean.numMuestraImagen ge 15}"/>
									<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccion15}" rendered="#{documentoVentaBean.numMuestraImagen ge 15}">
										<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
										<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
										<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
										<f:selectItem itemLabel="POS" itemValue="POS"/>
									</p:selectOneMenu>	
								</h:panelGrid>
								
							</p:row>

						</h:panelGrid>
					
					</p:panel>
				
				</h:panelGrid>
				

			</p:tab>
			
			<p:tab title="Aplicar Pre-Pago">
			
				<h:panelGrid columns="4">
	                
	                <p:commandButton id="idLotesPendientePago" style="margin-left:10px" icon="pi pi-search"  value="Importar Contrato" update=":form:tabView:tableContrato"/>
					<p:overlayPanel for="idLotesPendientePago" dynamic="true" style="width:600px" widgetVar="moviePickerLotePendientePago">
						<p:dataTable var="contrato" value="#{documentoVentaBean.lstContratosPendientesLazy}" rows="5" paginator="true" selectionMode="single" rowIndexVar="row"
							paginatorPosition="bottom" selection="#{documentoVentaBean.contratoPendienteSelected}" rowKey="#{contrato.id}" id="tableContrato"
							emptyMessage="No se encontraron resultados" size="small">
							
							<p:ajax event="rowSelect" listener="#{documentoVentaBean.importarContrato()}" oncomplete="PF('moviePickerLotePendientePago').hide()" update=":form:tabView:tableContrato :form:tabView:pnlContrato :form:tabView:tableCuotaContrato" />

							<p:column headerText="DNI" style="text-align:center; width:60px" filterBy="#{contrato.personVenta.dni}">
								<h:outputText value="#{contrato.personVenta.dni}" style="font-size: 14px;" />
							</p:column>

							<p:column headerText="Apellidos y Nombres" style="text-align:center; width:60px" filterBy="#{contrato.personVenta.surnames}">
								<h:outputText value="#{contrato.personVenta.surnames} #{contrato.personVenta.names}" style="font-size: 14px;" />
							</p:column>

							<p:column headerText="Mz-Lote" style="text-align:center; width:60px">
								<h:outputText value="#{contrato.lote.manzana.name}-#{contrato.lote.numberLote}" style="font-size: 14px;" />
							</p:column>
							
							<p:column headerText="Proyecto" style="text-align:center; width:60px">
								<h:outputText value="#{contrato.lote.project.name}" style="font-size: 14px;" />
							</p:column>

						</p:dataTable>
					</p:overlayPanel>
					
					<p:commandButton value="Cancelar" oncomplete="PF('cancelarContrato').show()"   style="margin-left:50px" icon="pi pi-times"  />
	                
				</h:panelGrid>
				

				<p:panel id="pnlContrato" header="Datos del Contrato" toggleable="true" toggleSpeed="500" widgetVar="panelContrato" style="width:70%">
					<h:panelGrid columns="4" styleClass="companyHeaderGrid">
						<p:row>
							<h:panelGrid columns="6">
																	
								<h:outputText value="Fecha de venta:" />
				        		
				        		<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.fechaVenta}" style="font-weight: bolder"> 
				        			<f:convertDateTime pattern="dd/MM/yyyy" />
				        		</h:outputText>
						
								<h:outputText value="Monto de venta:" style="margin-left:50px"/>
						
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.montoVenta}" style="font-weight: bolder"> 
									<f:convertNumber type="currency" currencySymbol=""/>
								</h:outputText>
		
								<h:outputText value="Tipo de pago:" style="margin-left:50px"/>
							
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.tipoPago}" style="font-weight: bolder"/>
							
								<h:outputText value="Monto de inicial:" />
							
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.montoInicial}" style="font-weight: bolder"> 
									<f:convertNumber type="currency" currencySymbol=""/>
								</h:outputText>
							
								<h:outputText value="Nro de cuotas:" style="margin-left:50px"/>
						
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.numeroCuota}" style="font-weight: bolder"/>
							
								<h:outputText value="Interés:" style="margin-left:50px"/>
							
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.interes}" style="font-weight: bolder">  
									<f:convertNumber type="currency" currencySymbol="%"/>
								</h:outputText>
							
								<h:outputText value="Fecha de 1ra cuota:" />
				        		
														
				        		<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.fechaPrimeraCuota}" style="font-weight: bolder"> 
				        			<f:convertDateTime pattern="dd/MM/yyyy" />
				        		</h:outputText>
							
								<h:outputText value="Cliente:" style="margin-left:50px"/>
							
								<h:outputText value="#{documentoVentaBean.contratoPendienteSelected.personVenta.names} #{documentoVentaBean.contratoPendienteSelected.personVenta.surnames}" style="font-weight: bolder"/>
							
								<h:outputText value="Deuda actual sin interés:" style="margin-left:50px"/>
						
								<h:outputText value="#{documentoVentaBean.deudaActualSinInteres}" style="font-weight: bolder"> 
									<f:convertNumber type="currency" currencySymbol=""/>
								</h:outputText>
								
								<h:outputText value="Deuda actual con interés:" />
						
								<h:outputText value="#{documentoVentaBean.deudaActualConInteres}" style="font-weight: bolder"> 
									<f:convertNumber type="currency" currencySymbol=""/>
								</h:outputText>
								
							
							</h:panelGrid>
						</p:row>
					</h:panelGrid>
				</p:panel>
				
				<h:panelGrid columns="2" > 
				
					<p:outputLabel for="prepagoFilter" value="Tipo:" />
				
					<p:selectOneMenu id="prepagoFilter" value="#{documentoVentaBean.tipoPrepago}" >
						<f:selectItem itemLabel="Prepago al capital" itemValue="PC"/>
						<f:selectItem itemLabel="Ampliación/Reducción" itemValue="AR" />
						<f:selectItem itemLabel="Prepago Ampliación/Reducción" itemValue="PAR" />
						<p:ajax update="idPrepagoGrid" />
					</p:selectOneMenu>
				
				</h:panelGrid>

				<h:panelGrid id="idPrepagoGrid" columns="8" styleClass="companyHeaderGrid">
			
					<h:outputText value="Monto:" rendered="#{documentoVentaBean.tipoPrepago eq 'PC' or documentoVentaBean.tipoPrepago eq 'PAR'}"/>
					<p:inputNumber id="mntPrepago" value="#{documentoVentaBean.montoPrepago}" disabled="#{documentoVentaBean.habilitarMontoPrepago}" rendered="#{documentoVentaBean.tipoPrepago eq 'PC' or documentoVentaBean.tipoPrepago eq 'PAR'}" />
					
					<p:outputLabel for="incluir" value="Incluir prox. cuota con interes:" rendered="#{documentoVentaBean.tipoPrepago eq 'PC' or documentoVentaBean.tipoPrepago eq 'PAR'}"/>
			
					<p:selectOneMenu id="incluir" value="#{documentoVentaBean.incluirUltimaCuota}" rendered="#{documentoVentaBean.tipoPrepago eq 'PC' or documentoVentaBean.tipoPrepago eq 'PAR'}">
						<f:selectItem itemLabel="No" itemValue="No"/>
						<f:selectItem itemLabel="Si" itemValue="Si" />
					</p:selectOneMenu>
					
					<h:outputText value="Nro. cuotas:" rendered="#{documentoVentaBean.tipoPrepago eq 'AR' or documentoVentaBean.tipoPrepago eq 'PAR'}"/>
					<p:inputNumber value="#{documentoVentaBean.nuevoNroCuotas}" rendered="#{documentoVentaBean.tipoPrepago eq 'AR' or documentoVentaBean.tipoPrepago eq 'PAR'}"  decimalPlaces="0" />
					
					<h:outputText value="Interés:" rendered="#{documentoVentaBean.tipoPrepago eq 'AR' or documentoVentaBean.tipoPrepago eq 'PAR'}"/>
					<p:inputNumber value="#{documentoVentaBean.nuevoInteres}" rendered="#{documentoVentaBean.tipoPrepago eq 'AR' or documentoVentaBean.tipoPrepago eq 'PAR'}" />
					
					
					<p:commandButton value="Simular Pre-Pago" action="#{documentoVentaBean.simularPrepago()}"  style="margin-left:50px" update=":form:tabView:tableCuotaContrato :form:tabView:mntPrepago :form:tabView:btnGuardar :form:tabView:gridTotales"/>			
					<p:commandButton value="Guardar" id="btnGuardar" action="#{documentoVentaBean.savePrepago()}" disabled="#{documentoVentaBean.habilitarBoton}" style="margin-left:50px" update=":form:tabView:tableContrato :form:tabView:pnlContrato :form:tabView:tableCuotaContrato"/>			
		
				</h:panelGrid>
				
				<h:panelGrid id="gridTotales" columns="2"> 
					<h:outputText value="Total Cuota S.I.:" style="font-weight: bold;"/> 
					<h:outputText value="#{documentoVentaBean.sumaCuotaSI}"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText> 
					
					<h:outputText value="Total Interés:" style="font-weight: bold;"/> 
					<h:outputText value="#{documentoVentaBean.sumaInteres}"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText>
					
					<h:outputText value="Total Cuota Total:" style="font-weight: bold;"/> 
					<h:outputText value="#{documentoVentaBean.sumaCuotaTotal}"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText> 
				</h:panelGrid>
			
				<p:dataTable var="cuotaContrato" value="#{documentoVentaBean.lstCuotaVista}"  selectionMode="single" rowIndexVar="row"  
					selection="#{documentoVentaBean.cuotaPendienteContratoSelected}" rowKey="#{cuotaContrato.id}" id="tableCuotaContrato"
					emptyMessage="No se encontraron cronograma de deudas." size="small">

					<f:facet name="header">
						<div class="p-d-flex p-ai-center p-jc-between">
							<span>CRONOGRAMA DE LA DEUDA</span>
						</div>
					</f:facet>   
	
					<p:column headerText="Nro Cuota" filterMatchMode="contains" >
						<h:outputText  value="#{cuotaContrato.prepago eq true ? 'Prepago' : cuotaContrato.nroCuota}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"/>
					</p:column>
					
					<p:column headerText="Periodo" filterMatchMode="contains" >
						<h:outputText value="#{cuotaContrato.fechaPago}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"> 
		        			<f:convertDateTime pattern="dd/MM/yyyy" />
		        		</h:outputText>
					</p:column>
				
					<p:column headerText="Cuota SI" filterMatchMode="contains" >
						<h:outputText  value="#{cuotaContrato.nroCuota eq 0 ? cuotaContrato.cuotaSI : cuotaContrato.pagoTotal eq 'S'? cuotaContrato.cuotaSI : cuotaContrato.cuotaSI}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Interés" filterMatchMode="contains" >
						<h:outputText  value="#{cuotaContrato.interes}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Adelanto" filterMatchMode="contains" >
						<h:outputText  value="#{cuotaContrato.adelanto}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Cuota Total" filterMatchMode="contains" >
						<h:outputText value="#{cuotaContrato.nroCuota eq 0 ? cuotaContrato.cuotaTotal : cuotaContrato.pagoTotal eq 'S'? cuotaContrato.cuotaTotal : cuotaContrato.cuotaTotal-cuotaContrato.adelanto}" style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':'black'}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Estado de Pago" filterMatchMode="contains" >
						<h:outputText value="#{cuotaContrato.prepago eq true ? 'PREPAGO' : cuotaContrato.pagoTotal eq 'S'?'PAGADO':'PENDIENTE'}"  style="font-weight: bold;color:#{cuotaContrato.prepago eq true ?'green':cuotaContrato.pagoTotal eq 'S'?'blue':cuotaContrato.pagoTotal eq 'N'?'red':'black'}"/>
						
					</p:column>
	
				</p:dataTable>

			</p:tab>

			
		</p:tabView>
	</h:form>
	
	<p:dialog height="670px" modal="true" dynamic="true" closeOnEscape="true" id="dialogDocumentoVenta" header="DOCUMENTO DE VENTA" widgetVar="docVentDialog" resizable="false" closable="true"
		appendTo="@(body)" style="background-color:green;" width="80%" >
		<h:form id="formDocumentoVentaDialog">

			<h:panelGrid width="100%" columns="2" styleClass="companyHeaderGrid"> 
			
				<p:graphicImage  value="#{navegacionBean.rutaLogo}"  library="demo" style="width:150px"/>	

	        	<h:panelGrid columns="1" style="float:right" >	
	        		<h:panelGrid columns="1" >	
	        			<h:outputText value="#{documentoVentaBean.documentoVentaSelected.tipoDocumento.abreviatura eq 'B'?'BOLETA': documentoVentaBean.documentoVentaSelected.tipoDocumento.abreviatura eq 'F'?'FACTURA': documentoVentaBean.documentoVentaSelected.tipoDocumento.abreviatura eq 'C'?'NOTA DE CRÉDITO': 'NOTA DE DÉBITO'} N° #{documentoVentaBean.documentoVentaSelected.serie}-#{documentoVentaBean.documentoVentaSelected.numero}" style="width : 100px;color:#337CFF;font-size: 20px;"/>				
					</h:panelGrid>
					<h:panelGrid columns="2" >	
						<h:outputText value="Fecha Emisión:" style="float:right"/>
		        		<h:outputText value="#{documentoVentaBean.documentoVentaSelected.fechaEmision}" style="float:right" > 
		        			<f:convertDateTime pattern="dd/MM/yyyy" />
		        		</h:outputText>
					</h:panelGrid>
					
				</h:panelGrid>
			</h:panelGrid>
			
			<h:panelGrid columns="2" styleClass="companyHeaderGrid">
	
				<h:outputText value="Ruc:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.ruc}" />
				
				<h:outputText value="Cliente:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.razonSocial}" />
	
				<h:outputText value="Dirección:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.direccion}" />
	
				<h:outputText value="Tipo Pago:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.tipoPago}"  />
	        	
	        	<h:outputText value="Moneda:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.tipoMoneda eq 'S'?'Soles':'Dólares'}"  />
	        	
	        	<h:outputText value="Observación:" />
	        	<h:outputText value="#{documentoVentaBean.documentoVentaSelected.observacion}"  />
	        	
	        	<h:outputText value="Correo 1:" />
	        	<p:inplace>
		            <p:inputText value="#{documentoVentaBean.documentoVentaSelected.cliente.email1Fe}" id="textoEditado">
			            <p:ajax event="blur" listener="#{documentoVentaBean.editarCorreoCliente}" update="formDocumentoVentaDialog" />
			        </p:inputText>
		        </p:inplace>
		        
		        <h:outputText value="Correo 2:" />
		        <p:inplace>
		            <p:inputText value="#{documentoVentaBean.documentoVentaSelected.cliente.email2Fe}" id="textoEditado2">
			            <p:ajax event="blur" listener="#{documentoVentaBean.editarCorreoCliente}" update="formDocumentoVentaDialog" />
			        </p:inputText>
		        </p:inplace>
		        
		        <h:outputText value="Correo 3:" />
		        <p:inplace>
		            <p:inputText value="#{documentoVentaBean.documentoVentaSelected.cliente.email3Fe}" id="textoEditado3">
			            <p:ajax event="blur" listener="#{documentoVentaBean.editarCorreoCliente}" update="formDocumentoVentaDialog" />
			        </p:inputText>
		        </p:inplace>
	
			</h:panelGrid>   
				
			<h:panelGrid>
		
				<p:dataTable var="det" id="idTableDetalleDocumento" value="#{documentoVentaBean.lstDetalleDocumentoVentaSelected}"  rowIndexVar="row" paginator="true" rows="15" size="small"
				emptyMessage="No se encontraron detalles de documento de venta." style="width:100%" paginatorPosition="bottom" rowKey="#{det.id}"  selectionMode="single" selection="#{documentoVentaBean.detalleDocumentoVenta}">
	
					<p:column headerText="Cantidad" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="1"/>
					</p:column>
					
					<p:column headerText="Descripción" filterMatchMode="contains" style="text-align:center;width:400px" >
						<h:outputText value="#{det.descripcion}"  style="width:400px"/>
					</p:column>
	
					<p:column headerText="Amortización" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.amortizacion}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Interés" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.interes}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Adelanto" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.adelanto}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Importe de Venta(**)" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.importeVenta}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
			
				</p:dataTable>
	
			</h:panelGrid>
			
			<h:panelGrid style="width:50%;float:left;" columns="1" >	
				<h:panelGrid  columns="2" styleClass="companyHeaderGrid">
				
					<h:outputText value="Son:" />
	         		<h:outputText value="#{documentoVentaBean.montoLetra}" />
	
				</h:panelGrid>
	
			</h:panelGrid>
				
			<h:panelGrid style="width:50%;float:right;" columns="1" >	
				<h:panelGrid style="float:right"  columns="3" styleClass="companyHeaderGrid">
				
					<h:outputText value="Sub-Total:" />
					<h:outputText value="S/" />	         		
	         		<h:outputText value="#{documentoVentaBean.documentoVentaSelected.subTotal}"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText>
				
					<h:outputText value="Igv:" />
					<h:outputText value="S/" />		
	         		<h:outputText value="#{documentoVentaBean.documentoVentaSelected.igv}"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText>
	
					<h:outputText value="Total:" style="color:blue"/>
					<h:outputText value="S/" style="color:blue"/>	         		
	         		<h:outputText value="#{documentoVentaBean.documentoVentaSelected.total}" style="color:blue"> 
						<f:convertNumber type="currency" currencySymbol=""/>
					</h:outputText>
	
				</h:panelGrid>
			</h:panelGrid>
			
			<h:panelGrid columns="2" >
				<p:commandButton value="Descargar"   icon="pi pi-file-pdf" onstart="PF('blockUIWidgetGeneral').block();" oncomplete="PF('blockUIWidgetGeneral').unblock();" action="#{documentoVentaBean.pdfDocumentoElectronico()}" ajax="false" />
				<p:commandButton value="Enviar a SUNAT" onstart="PF('blockUIWidgetEnvioSunat').block();" oncomplete="PF('blockUIWidgetEnvioSunat').unblock();" rendered="#{documentoVentaBean.documentoVentaSelected.envioSunat eq false}" update=":form:tabView:idTableListDoc formDocumentoVentaDialog" icon="pi pi-send" action="#{documentoVentaBean.enviarDocumentoSunat}" /> 
			</h:panelGrid>  
		
			<p:panel id="pnl" header="Datos Sunat" toggleable="true" toggleSpeed="500" widgetVar="panelDatos" style="width:80%" rendered="#{documentoVentaBean.documentoVentaSelected.envioSunat eq true}">
				<h:panelGrid columns="2">
					<h:outputText value="Envio aceptado por sunat:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioAceptadaPorSunat}" />
					
					<h:outputText value="Envio sunat descripcion:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioSunatDescription}" />
					
					<h:outputText value="Envio sunat note:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioSunatNote}" />
					
					<h:outputText value="Envio sunat soap error:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioSunatSoapError}" />
					
					<h:outputText value="Envio enlace del pdf:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioEnlaceDelPdf}" />
					
					<h:outputText value="Envio enlace del xml:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioEnlaceDelXml}" />
					
					<h:outputText value="Envio enlace del cdr:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioEnlaceDelCdr}" />
					
					<h:outputText value="Envio cadena codigo qr:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioCadenaCodigoQr}" />
					
					<h:outputText value="Envio cadena codigo hash:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioCodigoHash}" />
					
					<h:outputText value="Anulacion sunat ticket numero:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionSunatTicketNumero}" />
					
					<h:outputText value="Annulacion aceptado por sunat:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionAceptadaPorSunat}" />
					
					<h:outputText value="Anulacion sunat descripcion:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionSunatDescription}" />
					
					<h:outputText value="Anulacion sunat note:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionSunatNote}" />
					
					<h:outputText value="Anulacion sunat response code:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionSunatResponsecode}" />
					
					<h:outputText value="Anulacion sunat soap error:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.anulacionSunatSoapError}" />
					
					<h:outputText value="Envio sunat responde code:" style="font-weight: bold;"/>
					<h:outputText value="#{documentoVentaBean.documentoVentaSelected.envioSunatResponseCode}" />
			
				</h:panelGrid>
			</p:panel>
			
		</h:form>
	</p:dialog>
	
	<p:dialog modal="true" height="600px" dynamic="true" closeOnEscape="true" id="dialogVoucherDocumento" header="VOUCHER DE DOCUMENTOS" widgetVar="voucherDocumentoDialog" resizable="false" closable="true"
		appendTo="@(body)"  width="50%">
		<h:form id="formVoucherDocumentoDialog">
		
			<h:panelGrid columns="5" > 
			
				<p:commandButton value="VOUCHER 1" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen1)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen1 eq ''}" >
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen1}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
			
				<p:commandButton value="VOUCHER 2" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen2)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen2 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen2}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
			
				<p:commandButton value="VOUCHER 3" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen3)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen3 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen3}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
			
				<p:commandButton value="VOUCHER 4" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen4)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen4 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen4}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 5" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen5)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen5}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 6" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen6)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen6}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 7" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen7)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen7}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 8" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen8)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen8}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 9" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen9)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen9}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
				
				<p:commandButton value="VOUCHER 10" action="#{documentoVentaBean.obtenerDatosVoucher(documentoVentaBean.imagen10)}" update=":formVoucherDocumentoDialog:idDatosVoucher :formVoucherDocumentoDialog:idDatosVoucherEditable :formVoucherDocumentoDialog:imagenLoad :form:tabView:idTableListDoc" process="@this" disabled="#{documentoVentaBean.imagen5 eq ''}">
					<f:setPropertyActionListener value="#{documentoVentaBean.imagen10}" target="#{loadImageDocumentoBean.nombreArchivo}"  />
				</p:commandButton>
	
			</h:panelGrid>
			
			<h:panelGrid id="idDatosVoucher" rendered="#{navegacionBean.usuarioLogin.modificarVoucher eq false}" columns="2" >  
				<h:outputLabel value="Fecha:"/> 
				<h:outputLabel value="#{documentoVentaBean.convertirHora(documentoVentaBean.fechaVoucherDialog)}" /> 
				
				<h:outputLabel value="Monto:"/>
				<h:outputLabel value="#{documentoVentaBean.montoVoucherDialog}"> 
					<f:convertNumber type="currency" currencySymbol=""/>
				</h:outputLabel>
				
				<h:outputLabel value="Nro Operación:"/>
				<h:outputLabel value="#{documentoVentaBean.nroOperacionVoucherDialog}"/> 
				
				<h:outputLabel value="Tipo transacción:"/>
				<h:outputLabel value="#{documentoVentaBean.tipoTransaccionDialog}"/> 
				
				<h:outputLabel value="Cuenta Bancaria:"/>
				<h:outputLabel value="#{documentoVentaBean.ctaBancDialog}"/> 
			</h:panelGrid>
			
			<h:panelGrid id="idDatosVoucherEditable" rendered="#{navegacionBean.usuarioLogin.modificarVoucher}" columns="2" >  
				<h:outputLabel value="Fecha:" />
				<p:datePicker value="#{documentoVentaBean.fechaVoucherDialog}" timeInput="true" pattern="dd/MM/yyyy HH:mm:ss a" showTime="true"/>
				
				<h:outputLabel  value="Monto: " />
				<p:inputNumber  value="#{documentoVentaBean.montoVoucherDialog}" />
				
				<h:outputLabel value="Nro. de Operación:" />
				<p:inputText  value="#{documentoVentaBean.nroOperacionVoucherDialog}" decimalPlaces="0" />
				
				<h:outputLabel value="Tipo de transacción:" />
				<p:selectOneMenu  value="#{documentoVentaBean.tipoTransaccionDialog}" >
					<f:selectItem itemLabel="DEPOSITO EN EFECTIVO" itemValue="DEPOSITO EN EFECTIVO"/>
					<f:selectItem itemLabel="TRASFERENCIAS BANCARIAS" itemValue="TRASFERENCIAS BANCARIAS"/>
					<f:selectItem itemLabel="TRASFERENCIA INTERBANCARIA" itemValue="TRASFERENCIA INTERBANCARIA"/>
					<f:selectItem itemLabel="POS" itemValue="POS"/>
				</p:selectOneMenu>
				
				<h:outputLabel value="Cuenta Banc:" />
				<p:selectOneMenu value="#{documentoVentaBean.cuentaVoucherDialog}" converter="#{documentoVentaBean.conversorCuentaBancaria}">
					<f:selectItems value="#{documentoVentaBean.lstCuentaBancaria}" var="cb" itemLabel="#{cb.banco.abreviatura} : #{cb.numero}  (#{cb.moneda eq 'D'?'Dól':'Sol'}) #{cb.sucursal.prenombre}" itemValue="#{cb}"/>
				</p:selectOneMenu>
				
				<p:commandButton value="Guardar" action="#{documentoVentaBean.saveVoucherSelected}"/>
			</h:panelGrid>
			
			
			<p:graphicImage width="400"  value="#{loadImageDocumentoBean.image}" id="imagenLoad" cache="false"/>
			
		</h:form>
	</p:dialog>
	
	<p:dialog modal="true" height="600px" dynamic="true" closeOnEscape="true" id="dialogNotaCreditoDebito" header="NOTA CRÉDITO/DÉBITO" widgetVar="notaCreditoDebitoDialog" resizable="false" closable="true"
		appendTo="@(body)"  width="60%">
		<h:form id="formNotaCreditoDebitoDialog">
			
			<h:panelGrid columns="7">

				<h:outputLabel value="Documento:" />
				<p:selectOneMenu id="idNotaDocumento" value="#{documentoVentaBean.tipoDocumentoNotaSelected}" converter="#{documentoVentaBean.conversorNotaDocumento}" style="margin:10px; width:150px" >
					<f:selectItems  value="#{documentoVentaBean.lstTipoDocumentoNota}" var="notaDocumento" itemLabel="#{notaDocumento.descripcion}" itemValue="#{notaDocumento}"/>
					<p:ajax listener="#{documentoVentaBean.listarSerieNota()}" update="idSerieNumero, numero, idDatosNota"/>
				</p:selectOneMenu>
						
				<h:outputLabel value="Serie-Número:" />

				<p:selectOneMenu id="idSerieNumero" value="#{documentoVentaBean.serieNotaDocumentoSelected}" converter="#{documentoVentaBean.conversorSerieNota}" style="margin:10px">
					<f:selectItems value="#{documentoVentaBean.lstSerieNotaDocumento}" var="serie" itemLabel="#{serie.serie}" itemValue="#{serie}" />
<!-- 					<p:ajax listener="#{documentoVentaBean.cambiarSerie}" update="num" />  -->
				</p:selectOneMenu>

				<p:inputText value="#{documentoVentaBean.numeroNota}"  style="margin:10px" id="numero"/>
				
				<h:outputLabel value="Fecha: " />
				<p:datePicker id="fechaNota" value="#{documentoVentaBean.fechaEmisionNotaVenta}" style="margin:5px;">
<!-- 					<p:ajax update="txt_fecha_Formated, fecha" listener="#{documentoVentaBean.validacionFecha}" /> -->
				</p:datePicker>

			</h:panelGrid>
			
			<h:panelGrid id="idDatosNota" columns="2">

				<h:outputLabel value="Ruc:" />
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.cliente.ruc}" />
				
				<h:outputLabel value="Cliente:" />
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.cliente.razonSocial}" />
				
				<h:outputLabel value="Direcciòn:" />
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.cliente.direccion}" />
				
				<h:outputLabel value="Motivo Sunat:" />
				<p:selectOneMenu id="idMotivo" value="#{documentoVentaBean.motivoNotaSelected}" converter="#{documentoVentaBean.conversorMotivoNota}" style="margin:10px; width:300px">
					<f:selectItems  value="#{documentoVentaBean.lstMotivoNota}" var="motivoNota" itemLabel="#{motivoNota.codigo} - #{motivoNota.descripcion}" itemValue="#{motivoNota}"/>
				</p:selectOneMenu>
				
				<h:outputLabel value="Tipo Operación:" />
				<p:selectOneMenu id="idTipoOperacion" value="#{documentoVentaBean.tipoOperacionSelected}" converter="#{documentoVentaBean.conversorTipoOperacion}" style="margin:10px; width:300px">
					<f:selectItems  value="#{documentoVentaBean.lstTipoOperacion}" var="tipoOperacion" itemLabel="#{tipoOperacion.descripcion}" itemValue="#{tipoOperacion}"/>
				</p:selectOneMenu>
				
				<h:outputLabel value="Identificador:" />
				<p:selectOneMenu id="idIdentificador" value="#{documentoVentaBean.identificadorSelected}" converter="#{documentoVentaBean.conversorIdentificador}" style="margin:10px; width:300px">
					<f:selectItems  value="#{documentoVentaBean.lstIdentificador}" var="identificador" itemLabel="#{identificador.descripcion}" itemValue="#{identificador}"/>
				</p:selectOneMenu>
				
				<p:commandButton value="Guardar" actionListener="#{documentoVentaBean.saveNota()}"  icon="pi pi-save"  update=":form:tabView:idTableListDoc"/>
				
			</h:panelGrid>
			
			<p:dataTable var="det" id="idTableDetalleDocumentoNota" value="#{documentoVentaBean.lstDetalleDocumentoVentaSelected}"  rowIndexVar="row" paginator="true" rows="15" size="small"
				emptyMessage="No se encontraron detalles de documento de venta." style="width:100%" paginatorPosition="bottom" rowKey="#{det.id}"  selectionMode="single" selection="#{documentoVentaBean.detalleDocumentoVenta}">
	
					<p:column headerText="Cantidad" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="1"/>
					</p:column>
					
					<p:column headerText="Descripción" filterMatchMode="contains" style="text-align:center;width:400px" >
						<h:outputText value="#{det.descripcion}"  style="width:400px"/>
					</p:column>
	
					<p:column headerText="Amortización" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.amortizacion}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Interés" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.interes}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Adelanto" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.adelanto}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
					
					<p:column headerText="Importe de Venta(**)" filterMatchMode="contains" style="text-align:center">
						<h:outputText value="#{det.importeVenta}"> 
							<f:convertNumber type="currency" currencySymbol=""/>
						</h:outputText>
					</p:column>
			
				</p:dataTable>
				
			<h:panelGrid columns="1">

				<h:outputLabel value="RESUMEN" style="font-weight: bold;"/>
				
			</h:panelGrid>
				
			<h:panelGrid columns="2">

				<h:outputLabel value="Subtotal:" />
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.subTotal}" />
				
				<h:outputLabel value="IGV(18%):" />
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.igv}" />
				
				<h:outputLabel value="Total:" style="font-weight: bold;"/>
				<h:outputLabel value="#{documentoVentaBean.documentoVentaSelected.total}" />
								
			</h:panelGrid>
	
		</h:form>
	</p:dialog>
	
	<p:dialog modal="true" dynamic="true" closeOnEscape="true" id="dialogUser" header="NUEVO CLIENTE" widgetVar="clienteDialog" resizable="false" closable="true"
		appendTo="@(body)">
		<h:form id="formUserDialog">
			<p:selectOneButton value="#{documentoVentaBean.personaNaturalCliente}"
				unselectable="false">
				<f:selectItem itemLabel="Persona" itemValue="#{true}" />
				<f:selectItem itemLabel="Empresa" itemValue="#{false}" />
				<p:ajax update=":formUserDialog"/>
			</p:selectOneButton>
			
			<h:panelGrid columns="2">
				<h:outputLabel value="Persona: " rendered="#{documentoVentaBean.personaNaturalCliente eq true}" />
				<h:outputLabel value="Representante: " rendered="#{documentoVentaBean.personaNaturalCliente eq false}"/>
				<p:autoComplete  scrollHeight="500" styleClass="ui-autocompV" value="#{documentoVentaBean.personSelected}" converter="#{documentoVentaBean.conversorPerson}" completeMethod="#{documentoVentaBean.completePerson}"  
	                  var="person" itemLabel="#{person.surnames.concat(' ')}#{person.names}" itemValue="#{person}" forceSelection="true" style="margin:5px;" >
	            	<p:column width="400px">
	                	<h:outputLabel value="#{person.surnames} #{person.names}" /> 
	                </p:column>
	                <p:column width="400px">
	                	<h:outputLabel value="#{person.dni}" /> 
	                </p:column> 
	                 
	                 <p:ajax event="change" update=":formUserDialog" listener="#{documentoVentaBean.onChangePerson}" />
	            </p:autoComplete>
			
                 <h:outputText value="Razon social:" />
                 <p:inputText value="#{documentoVentaBean.razonSocialCliente}" />
                 
                 <h:outputText value="Nombre comercial:" />
                 <p:inputText value="#{documentoVentaBean.nombreComercialCliente}" />
                 
                 <h:outputText value="DNI:" rendered="#{documentoVentaBean.personaNaturalCliente eq true}"/>
                 <h:outputText value="RUC:" rendered="#{documentoVentaBean.personaNaturalCliente eq false}"/>
                 
                 <p:inputText value="#{documentoVentaBean.rucDniCliente}" />
                 
                 <h:outputText value="Direccion:" />
                 <p:inputText value="#{documentoVentaBean.direccionCliente}" />
                 
                 <h:outputText value="E-mail 1:" />
                 <p:inputText value="#{documentoVentaBean.email1Cliente}" />
                 
                 <h:outputText value="E-mail 2:" />
                 <p:inputText value="#{documentoVentaBean.email2Cliente}" />
                 
                 <h:outputText value="E-mail 3:" />
                 <p:inputText value="#{documentoVentaBean.email3Cliente}" />
                 
                 <p:commandButton value="GUARDAR" actionListener="#{documentoVentaBean.saveCliente}" update=":form:tabView:pnl" />
			</h:panelGrid>
			
		</h:form>
	</p:dialog>
	
	<pe:blockUI target="saveDocumento" widgetVar="blockUIWidgetDocumento">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>
	<p:confirmDialog id="saveDocumento" message="¿Está seguro de guardar el documento de venta?" header="Confirmación" severity="alert" widgetVar="saveDocumento" appendTo="@(body)">
        <h:form >
            <p:commandButton value="SI" onstart="PF('blockUIWidgetDocumento').block();" oncomplete="PF('blockUIWidgetDocumento').unblock();PF('saveDocumento').hide()"  action="#{documentoVentaBean.saveDocumentoVenta()}" update=":form:tabView:idTableListDoc :form:tabView:gridImpCuota  :form:tabView:idTableDetalleDocVenta :form:tabView:gridMontos :form:tabView:pnl :form:tabView:idTipoComprobante :form:tabView:pnlCond"/>
            <p:commandButton value="NO" oncomplete="PF('saveDocumento').hide()"/>
        </h:form>
    </p:confirmDialog>
    
    <pe:blockUI target="cancelarDocumento" widgetVar="blockUIWidgetCancelarDoc">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>
    <p:confirmDialog id="cancelarDocumento" message="¿Está seguro de cancelar el documento de venta?" header="Confirmación" severity="alert" widgetVar="cancelarDocumento" appendTo="@(body)">
        <h:form >
            <p:commandButton value="SI" onstart="PF('blockUIWidgetCancelarDoc').block();" oncomplete="PF('blockUIWidgetCancelarDoc').unblock();PF('cancelarDocumento').hide()"  action="#{documentoVentaBean.cancelarDocumentoVenta()}" update="form:tabView:pnl :form:tabView:gridMontos :form:tabView:pnlCond :form:tabView:idTableDetalleDocVenta"/>
            <p:commandButton value="NO" oncomplete="PF('cancelarDocumento').hide()"/>
        </h:form>
    </p:confirmDialog>
    
    <pe:blockUI target="cancelarContrato" widgetVar="blockUIWidgetCancelarContrato">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>
    <p:confirmDialog id="cancelarContrato" message="¿Está seguro de cancelar la simulación del prepago?" header="Confirmación" severity="alert" widgetVar="cancelarContrato" appendTo="@(body)">
        <h:form >
            <p:commandButton value="SI" onstart="PF('blockUIWidgetCancelarContrato').block();" oncomplete="PF('blockUIWidgetCancelarContrato').unblock();PF('cancelarContrato').hide()"  
            	action="#{documentoVentaBean.cancelarContrato()}" update=":form:tabView:tableContrato :form:tabView:pnlContrato :form:tabView:tableCuotaContrato :form:tabView:idPrepagoGrid :form:tabView:gridTotales"/>
            <p:commandButton value="NO" oncomplete="PF('cancelarContrato').hide()"/>
        </h:form>
    </p:confirmDialog>
    
    <pe:blockUI target="anulaDocumento" widgetVar="blockUIWidgetAnularDoc">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>
    <p:confirmDialog id="anulaDocumento" message="¿Está seguro de anular el documento de venta?" header="Confirmación" severity="alert" widgetVar="anulaDocumento" appendTo="@(body)">
        <h:form >
            <p:commandButton value="SI" onstart="PF('blockUIWidgetAnularDoc').block();" oncomplete="PF('blockUIWidgetAnularDoc').unblock();PF('anulaDocumento').hide()"  action="#{documentoVentaBean.anularDocumento()}" update=":form:tabView:idTableListDoc"/>
            <p:commandButton value="NO" oncomplete="PF('anulaDocumento').hide()"/>
        </h:form>
    </p:confirmDialog>
    
    
    
     <pe:blockUI target="dialogDocumentoVenta" widgetVar="blockUIWidgetEnvioSunat">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>
    <pe:blockUI widgetVar="blockUIWidgetGeneral">
          <h:form style="background: white"> 
          <h:outputText value="Cargando, espere..." style="white-space: nowrap; font-weight:bold; color: #036fab; background: white"/> 
          </h:form>
    </pe:blockUI>

</ui:composition>